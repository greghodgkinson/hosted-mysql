app = 'hosted-mysql'
primary_region = 'iad'

# Environment variables for MySQL initialization
# (Passwords are in plain text; this is fine for testing but not recommended for production)
[env]
  MYSQL_DATABASE      = "test_db"
  MYSQL_USER          = "db_user"
  MYSQL_PASSWORD      = "db_password"
  MYSQL_ROOT_PASSWORD = "root_password"

# Expose the MySQL port publicly so external clients can connect directly
[[services]]
  internal_port = 3306
  protocol = "tcp"
  processes = ["app"]
  [[services.ports]]
    port = 3306
    handlers = ["tls"]

  [[services.tcp_checks]]
    interval = "15s"
    timeout  = "2s"

# Optional VM sizing
[[vm]]
  memory   = '1gb'
  cpu_kind = 'shared'
  cpus     = 1